<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.controllers.listCommentaireBackController"
            stylesheets="@back.css"
            prefWidth="1536" prefHeight="864"
            style="-fx-background-color: #1d1f26;">

    <!-- SIDEBAR -->
    <left>
        <ScrollPane hbarPolicy="NEVER" vbarPolicy="NEVER" fitToHeight="true" prefWidth="260">
            <content>
                <VBox spacing="10" style="-fx-background-color: #1d1f26; -fx-padding: 20;" prefWidth="260">
                    <Label text="DASHBOARDS" textFill="#a8b7cb" style="-fx-font-size: 16px;" />

                    <Button fx:id="blogDashboardBtn" onAction="#toggleBlogMenu"
                            text="  Blog Dashboard ▼"
                            prefHeight="40" prefWidth="220"
                            style="-fx-background-color: #503f71; -fx-text-fill: white; -fx-alignment: CENTER_LEFT;" />

                    <VBox fx:id="blogSubmenu" spacing="5" visible="false" managed="false">
                        <Button text="Gestion des Posts" onAction="#navigateToPosts"
                                style="-fx-background-color: transparent; -fx-text-fill: #a8b7cb; -fx-alignment: CENTER_LEFT;" />
                        <Button text="Gestion des Commentaires" onAction="#navigateToCommentaires"
                                style="-fx-background-color: #503f71; -fx-text-fill: white; -fx-alignment: CENTER_LEFT;" />
                    </VBox>

                    <Button text="Event Dashboard" style="-fx-background-color: transparent; -fx-text-fill: #a8b7cb;" />
                    <Button text="User Dashboard" style="-fx-background-color: transparent; -fx-text-fill: #a8b7cb;" />
                </VBox>
            </content>
        </ScrollPane>
    </left>

    <!-- TOPBAR -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT"
              style="-fx-background-color: #ffffff; -fx-padding: 20 30;">
            <ImageView fitHeight="24" fitWidth="24">
                <image>
                    <Image url="@images/menu.png"/>
                </image>
            </ImageView>
            <Label text="Gestion des Commentaires (Backoffice)"
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
        </HBox>
    </top>

    <!-- CONTENT -->
    <center>
        <VBox spacing="20" style="-fx-background-color: #f0f1f5; -fx-padding: 30;">
            <Pane prefHeight="600.0" prefWidth="1076.0"
                  style="-fx-background-color: #ffffff; -fx-border-color: #d9dadb; -fx-border-radius: 10; -fx-background-radius: 10;">
                <children>
                    <Label layoutX="50.0" layoutY="33.0" text="Liste des Commentaires">
                        <font><Font size="24.0" /></font>
                    </Label>

                    <TableView fx:id="commentaireTable" layoutX="50.0" layoutY="100.0"
                               prefHeight="450.0" prefWidth="976.0"
                               style="-fx-background-color: #ffffff; -fx-border-color: #f0f1f5;">
                        <columns>
                            <TableColumn fx:id="colId" prefWidth="50" text="ID" />
                            <TableColumn fx:id="colMessage" prefWidth="300" text="Message" />
                            <TableColumn fx:id="colAuteur" prefWidth="150" text="Auteur" />
                            <TableColumn fx:id="colPostId" prefWidth="200" text="Post associé" />
                            <TableColumn fx:id="colActions" prefWidth="250" text="Actions" />
                        </columns>
                    </TableView>
                </children>
            </Pane>

            <!-- ➡️ Voici ton NOUVEAU bouton pour accéder aux statistiques -->
            <Button text="Voir Statistiques Posts"
                    onAction="#openStatistics"
                    style="-fx-background-color: #503f71; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10;"
                    prefWidth="300" prefHeight="45"
                    alignment="CENTER" />
        </VBox>
    </center>
</BorderPane>

<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.controllers.listPostBackController"
            stylesheets="@back.css"
            prefWidth="1536" prefHeight="864"
            style="-fx-background-color: #1d1f26;">

    <!-- SIDEBAR -->
    <left>
        <ScrollPane hbarPolicy="NEVER" vbarPolicy="NEVER" fitToHeight="true" prefWidth="260">
            <content>
                <VBox spacing="10" style="-fx-background-color: #1d1f26; -fx-padding: 20;">
                    <Label text="DASHBOARDS" textFill="#a8b7cb" style="-fx-font-size: 16px;" />

                    <!-- Blog Dashboard toggle -->
                    <Button fx:id="blogDashboardBtn" onAction="#toggleBlogMenu"
                            text="  Blog Dashboard ▲"
                            prefHeight="40" prefWidth="220"
                            style="-fx-background-color: #503f71; -fx-text-fill: white; -fx-alignment: CENTER_LEFT;" />

                    <!-- Sous-menu -->
                    <VBox fx:id="blogSubmenu" spacing="5" visible="true" managed="true">
                        <Button text="Gestion des Posts" onAction="#navigateToPosts"
                                style="-fx-background-color: #503f71; -fx-text-fill: white; -fx-alignment: CENTER_LEFT;" />
                        <Button text="Gestion des Commentaires" onAction="#navigateToCommentaires"
                                style="-fx-background-color: transparent; -fx-text-fill: #a8b7cb; -fx-alignment: CENTER_LEFT;" />
                    </VBox>

                    <!-- Autres -->
                    <Button text="Event Dashboard" style="-fx-background-color: transparent; -fx-text-fill: #a8b7cb;" />
                    <Button text="User Dashboard" style="-fx-background-color: transparent; -fx-text-fill: #a8b7cb;" />
                </VBox>
            </content>
        </ScrollPane>
    </left>

    <!-- TOPBAR -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT"
              style="-fx-background-color: #ffffff; -fx-padding: 20 30;">
            <ImageView fitHeight="24" fitWidth="24">
                <image><Image url="@images/menu.png"/></image>
            </ImageView>
            <Label text="Gestion des Posts (Backoffice)"
                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;" />
        </HBox>
    </top>

    <!-- MAIN CONTENT -->
    <center>
        <VBox spacing="20" style="-fx-background-color: #f0f1f5; -fx-padding: 30;">
            <Pane prefHeight="600.0" prefWidth="1076.0"
                  style="-fx-background-color: #ffffff; -fx-border-color: #d9dadb; -fx-border-radius: 10; -fx-background-radius: 10;">
                <children>
                    <Label layoutX="50.0" layoutY="33.0" text="Liste des Posts">
                        <font><Font size="24.0" /></font>
                    </Label>

                    <TableView fx:id="postTable" layoutX="50.0" layoutY="100.0"
                               prefHeight="450.0" prefWidth="976.0"
                               style="-fx-background-color: #ffffff; -fx-border-color: #f0f1f5;">
                        <columns>
                            <TableColumn fx:id="colId" prefWidth="50" text="ID" />
                            <TableColumn fx:id="colTitre" prefWidth="150" text="Titre" />
                            <TableColumn fx:id="colDescription" prefWidth="200" text="Description" />
                            <TableColumn fx:id="colCreateur" prefWidth="100" text="Créateur" />
                            <TableColumn fx:id="colImage" prefWidth="150" text="Image" />
                            <TableColumn fx:id="colActions" prefWidth="250" text="Actions" />
                        </columns>
                    </TableView>

                    <Button alignment="CENTER" layoutX="845.0" layoutY="29.0"
                            mnemonicParsing="false" onAction="#handleAddPost"
                            prefHeight="43.0" prefWidth="181.0"
                            style="-fx-background-color: #9e6de0; -fx-background-radius: 50px;"
                            text="Ajouter un Post" textFill="WHITE">
                        <font><Font size="16.0" /></font>
                    </Button>
                </children>
            </Pane>
        </VBox>
    </center>
</BorderPane>
